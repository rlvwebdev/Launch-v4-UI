/* ============================================
   NAVBAR COMPONENT STYLES
   Secondary navigation bar for context actions
   Contains sidebar toggle, search, and action buttons
   ============================================ */

/* --------------------------------------------
   CSS VARIABLES
   Component-specific design tokens
   -------------------------------------------- */
:root {
  --navbar-height: 76px;
  --navbar-bg: #f1f5f9;
  --navbar-border: #cbd5e0;
  --navbar-padding: 0 2rem;
  --navbar-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  --navbar-primary: #2563eb;
  --navbar-primary-hover: #1d4ed8;
  --navbar-text: #64748b;
  --navbar-text-dark: #0f172a;
  --navbar-input-bg: #ffffff;
}

[data-theme="dark"] {
  --navbar-bg: #0f172a;
  --navbar-border: #1e293b;
  --navbar-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  --navbar-primary: #3b82f6;
  --navbar-primary-hover: #60a5fa;
  --navbar-text: #94a3b8;
  --navbar-text-dark: #f1f5f9;
  --navbar-input-bg: #1e293b;
}

/* --------------------------------------------
   BASE STYLES
   Main navbar container and structure
   -------------------------------------------- */
.navbar {
  position: sticky;
  top: 64px;
  z-index: 900;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  width: 100%;
  height: var(--navbar-height);
  padding: 0.5rem;
  border-bottom: 1px solid var(--navbar-border);
  background: var(--navbar-bg);
  box-shadow: var(--navbar-shadow);
  transition: background-color 200ms ease, border-color 200ms ease;
}

/* --------------------------------------------
   LAYOUT SECTIONS
   Three-column layout structure
   -------------------------------------------- */
.navbar__left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-shrink: 0;
}



.navbar__center {
  flex: 1;
  display: flex;
  align-items: center;
  min-width: 0;
  padding: 0 1rem;
}

.navbar__right {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-shrink: 0;
}

/* --------------------------------------------
   DATE FILTER CONTAINER
   Optional date range filter slot
   -------------------------------------------- */
.navbar__date-filter-container {
  display: flex;
  align-items: center;
}

/* --------------------------------------------
   MOBILE ACTIONS MENU
   Compact menu for date filter and actions on mobile
   -------------------------------------------- */
.navbar__mobile-actions {
  position: relative;
  display: none;
}

.navbar__mobile-actions-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  right: 0;
  min-width: 280px;
  display: flex;
  flex-direction: column;
  padding: 0.5rem;
  border: 1px solid var(--navbar-border);
  border-radius: 8px;
  background: var(--navbar-input-bg);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  opacity: 0;
  visibility: hidden;
  z-index: 1000;
}

[data-theme="dark"] .navbar__mobile-actions-dropdown {
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

.navbar__mobile-actions-dropdown--open {
  opacity: 1;
  visibility: visible;
}

.navbar__mobile-actions-item {
  padding: 0.5rem;
}

.navbar__mobile-actions-button {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  width: 100%;
  padding: 0.75rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  text-align: left;
  color: var(--navbar-text-dark);
  background: transparent;
  cursor: pointer;
  transition: all 200ms ease;
}

.navbar__mobile-actions-button:hover {
  background: #f1f5f9;
}

[data-theme="dark"] .navbar__mobile-actions-button:hover {
  background: #334155;
}

.navbar__mobile-actions-button svg {
  color: var(--navbar-primary);
  flex-shrink: 0;
}

/* --------------------------------------------
   TOGGLE BUTTONS
   Sidebar and aside panel toggles
   -------------------------------------------- */
.navbar__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  padding: 0;
  border: none;
  border-radius: 8px;
  background: transparent;
  color: #94a3b8;
  cursor: pointer;
  transition: color 200ms ease;
}

.navbar__toggle:hover {
  background: transparent;
  color: #cbd5e1;
}

.navbar__toggle:focus-visible {
  outline: 2px solid var(--navbar-accent);
  outline-offset: 2px;
}

.navbar__toggle--active {
  background: transparent;
  color: #ff6b35;
}

/* Auto-reload toggle specific colors */
.navbar__toggle:has(svg path[d*="M21.5 2v6h-6"]) {
  color: #ef4444;
}

.navbar__toggle--active:has(svg path[d*="M21.5 2v6h-6"]) {
  color: #10b981;
}

/* Autoreload icon rotation animation - completes full rotation every 24 seconds (testing) */
@keyframes autoreloadRotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.navbar__autoreload svg {
  transition: transform 0.3s ease-in-out;
}

/* Only animate when autoreload is active (green/toggled on) */
.navbar__autoreload.navbar__toggle--active svg {
  animation: autoreloadRotate 24s linear infinite;
}

.navbar__toggle-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  transform-origin: center;
}

/* --------------------------------------------
   SEARCH BAR
   Flexible search input with icon
   -------------------------------------------- */
.navbar__search {
  flex: 1;
  position: relative;
  min-width: 200px;
  max-width: 100%;
}

.navbar__search-input {
  width: 100%;
  height: 48px;
  padding: 0 1rem;
  padding-left: 3rem;
  border: 1px solid var(--navbar-border);
  border-radius: 8px;
  font-size: 0.9375rem;
  color: var(--navbar-text-dark);
  background: var(--navbar-input-bg);
  transition: all 200ms ease;
}

.navbar__search-input::placeholder {
  color: #94a3b8;
}

.navbar__search-input:focus {
  outline: none;
  border-color: var(--navbar-primary);
  background: #ffffff;
  color: #0f172a;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.navbar__search-icon {
  position: absolute;
  top: 50%;
  left: 1rem;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--navbar-text);
  font-size: 1.125rem;
  pointer-events: none;
}

/* --------------------------------------------
   ACTION BUTTONS
   Context-dependent action buttons
   -------------------------------------------- */
.navbar__actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-shrink: 0;
}

.navbar__action {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border: 1px solid var(--navbar-border);
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--navbar-text);
  white-space: nowrap;
  background: #ffffff;
  cursor: pointer;
  transition: all 200ms ease;
}

.navbar__action:hover {
  background: #f8fafc;
  border-color: #cbd5e0;
  color: var(--navbar-text-dark);
}

.navbar__action:focus-visible {
  outline: 2px solid var(--navbar-primary);
  outline-offset: 2px;
}

.navbar__action-icon {
  width: 16px;
  height: 16px;
  font-size: 1rem;
}

.navbar__action--primary {
  background: var(--navbar-primary);
  border-color: var(--navbar-primary);
  color: #ffffff;
}

.navbar__action--primary:hover {
  background: var(--navbar-primary-hover);
  border-color: var(--navbar-primary-hover);
}

/* --------------------------------------------
   MOBILE ACTIONS DROPDOWN
   Compact dropdown menu for mobile view
   -------------------------------------------- */
.navbar__mobile-actions {
  display: none;
  position: relative;
}

.navbar__mobile-actions-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--navbar-border);
  border-radius: 6px;
  font-size: 0.875rem;
  color: var(--navbar-text);
  background: #ffffff;
  cursor: pointer;
  transition: all 200ms ease;
}

.navbar__mobile-actions-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  right: 0;
  min-width: 200px;
  display: flex;
  flex-direction: column;
  padding: 0.5rem;
  border: 1px solid var(--navbar-border);
  border-radius: 8px;
  background: #ffffff;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  opacity: 0;
  visibility: hidden;
}

.navbar__mobile-actions-dropdown--open {
  opacity: 1;
  visibility: visible;
}

.navbar__mobile-actions-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  width: 100%;
  padding: 0.75rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  text-align: left;
  color: var(--navbar-text);
  background: transparent;
  cursor: pointer;
}

.navbar__mobile-actions-item:hover {
  background: #f8fafc;
}

/* --------------------------------------------
   RESPONSIVE
   Breakpoints for different screen sizes
   -------------------------------------------- */
@media (max-width: 1024px) {
  .navbar__action:not(.navbar__action--primary) .navbar__action-text {
    display: none;
  }
}

@media (max-width: 768px) {
  .navbar {
    padding: 0.5rem 1rem;
  }
  
  .navbar__center {
    gap: 0.5rem;
  }
  
  .navbar__search {
    min-width: 150px;
  }
  
  .navbar__actions {
    display: none;
  }
  
  /* Hide desktop date filter and autoreload, show mobile actions menu */
  .navbar__date-filter-container,
  .navbar__autoreload {
    display: none;
  }
  
  .navbar__mobile-actions {
    display: block;
  }
}

@media (max-width: 480px) {
  .navbar {
    padding: 0.5rem 0.75rem;
    gap: 0.5rem;
  }
  
  .navbar__search {
    min-width: 100px;
  }
  
  .navbar__search-input {
    font-size: 0.875rem;
    padding: 0.5rem 0.75rem;
    padding-left: 2.5rem;
  }
}
